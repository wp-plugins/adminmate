(function(d){var f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==";var a='<a tabindex="0" class="wp-color-result" />',c='<div class="wp-picker-holder" />',b='<div class="wp-picker-container" />',e='<input type="button" class="button button-small hidden" />';Color.fn.toString=function(){if(this._alpha<1){return this.toCSS("rgba",this._alpha).replace(/\s+/g,"")}var h=parseInt(this._color,10).toString(16);if(this.error){return""}if(h.length<6){for(var g=6-h.length-1;g>=0;g--){h="0"+h}}return"#"+h};d.widget("wp.wpColorPicker",d.wp.wpColorPicker,{_create:function(){if(!d.support.iris){return}var g=this,h=g.element;d.extend(g.options,h.data());g.close=d.proxy(g.close,g);g.initialValue=h.val();h.addClass("wp-color-picker").hide().wrap(b);g.wrap=h.parent();g.toggler=d(a).insertBefore(h).css({backgroundColor:g.initialValue}).attr("title",wpColorPickerL10n.pick).attr("data-current",wpColorPickerL10n.current);g.pickerContainer=d(c).insertAfter(h);g.button=d(e);if(g.options.defaultColor){g.button.addClass("wp-picker-default").val(wpColorPickerL10n.defaultString)}else{g.button.addClass("wp-picker-clear").val(wpColorPickerL10n.clear)}h.wrap('<span class="wp-picker-input-wrap" />').after(g.button);h.iris({target:g.pickerContainer,hide:g.options.hide,width:g.options.width,mode:g.options.mode,palettes:g.options.palettes,change:function(i,j){if(g.options.alpha){g.toggler.css({"background-image":"url("+f+")"}).html("<span />");g.toggler.find("span").css({width:"100%",height:"100%",position:"absolute",top:0,left:0,"border-top-left-radius":"3px","border-bottom-left-radius":"3px",background:j.color.toString()})}else{g.toggler.css({backgroundColor:j.color.toString()})}if(d.isFunction(g.options.change)){g.options.change.call(this,i,j)}}});h.val(g.initialValue);g._addListeners();if(!g.options.hide){g.toggler.click()}},_addListeners:function(){var g=this;g.wrap.on("click.wpcolorpicker",function(h){h.stopPropagation()});g.toggler.click(function(){if(g.toggler.hasClass("wp-picker-open")){g.close()}else{g.open()}});g.element.change(function(i){var h=d(this),j=h.val();if(j===""||g.element.hasClass("iris-error")){if(g.options.alpha){g.toggler.removeAttr("style");g.toggler.find("span").css("backgroundColor","")}else{g.toggler.css("backgroundColor","")}if(d.isFunction(g.options.clear)){g.options.clear.call(this,i)}}});g.toggler.on("keyup",function(h){if(h.keyCode===13||h.keyCode===32){h.preventDefault();g.toggler.trigger("click").next().focus()}});g.button.click(function(i){var h=d(this);if(h.hasClass("wp-picker-clear")){g.element.val("");if(g.options.alpha){g.toggler.removeAttr("style");g.toggler.find("span").css("backgroundColor","")}else{g.toggler.css("backgroundColor","")}if(d.isFunction(g.options.clear)){g.options.clear.call(this,i)}}else{if(h.hasClass("wp-picker-default")){g.element.val(g.options.defaultColor).change()}}})}});d.widget("a8c.iris",d.a8c.iris,{_create:function(){this._super();this.options.alpha=this.element.data("alpha")||false;if(!this.element.is(":input")){this.options.alpha=false}if(typeof this.options.alpha!=="undefined"&&this.options.alpha){var n=this,i=n.element,j='<div class="iris-strip iris-slider iris-alpha-slider"><div class="iris-slider-offset iris-slider-offset-alpha"></div></div>',h=d(j).appendTo(n.picker.find(".iris-picker-inner")),o=h.find(".iris-slider-offset-alpha"),m={aContainer:h,aSlider:o};n.options.defaultWidth=i.width();if(n._color._alpha<1||n._color.toString().indexOf("rgb")!=1){i.width(parseInt(n.options.defaultWidth+100))}d.each(m,function(q,p){n.controls[q]=p});n.controls.square.css({"margin-right":"0"});var l=(n.picker.width()-n.controls.square.width()-20),k=l/6,g=(l/2)-k;d.each(["aContainer","strip"],function(q,p){n.controls[p].width(g).css({"margin-left":k+"px"})});n._initControls();n._change()}},_initControls:function(){this._super();if(this.options.alpha){var h=this,g=h.controls;g.aSlider.slider({orientation:"vertical",min:0,max:100,step:1,value:parseInt(h._color._alpha*100),slide:function(i,j){h._color._alpha=parseFloat(j.value/100);h._change.apply(h,arguments)}})}},_change:function(){this._super();var o=this,h=o.element;if(this.options.alpha){var n=o.controls,i=parseInt(o._color._alpha*100),j=o._color.toRgb(),m=["rgb("+j.r+","+j.g+","+j.b+") 0%","rgba("+j.r+","+j.g+","+j.b+", 0) 100%"],p=o.options.defaultWidth,l=o.picker.closest(".wp-picker-container").find(".wp-color-result");n.aContainer.css({background:"linear-gradient(to bottom, "+m.join(", ")+"), url("+f+")"});if(l.hasClass("wp-picker-open")){n.aSlider.slider("value",i);if(o._color._alpha<1){var g=n.strip.attr("style").replace(/rgba\(([0-9]+,)(\s+)?([0-9]+,)(\s+)?([0-9]+)(,(\s+)?[0-9\.]+)\)/g,"rgb($1$3$5)");n.strip.attr("style",g);h.width(parseInt(p+100))}else{h.width(p)}}}var k=h.data("reset-alpha")||false;if(k){o.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){o._color._alpha=1;o.active="external";o._change()})}},_addInputListeners:function(h){var g=this,i=100,j=function(l){var k=new Color(h.val()),m=h.val();h.removeClass("iris-error");if(k.error){if(m!==""){h.addClass("iris-error")}}else{if(k.toString()!==g._color.toString()){if(!(l.type==="keyup"&&m.match(/^[0-9a-fA-F]{3}$/))){g._setOption("color",k.toString())}}}};h.on("change",j).on("keyup",g._debounce(j,i));if(g.options.hide){h.one("focus",function(){g.show()})}}})}(jQuery));jQuery(document).ready(function(a){a(".color-picker").wpColorPicker()});