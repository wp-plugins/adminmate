function isUrl(b){var a=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");if(!a.test(b)){return false}else{return true}}function get_header_string(a,b){htmlStr="<span class='ui-accordion-header-icon ui-icon ui-icon-triangle-1-e'></span>";if("dashicons-empty"!==a){htmlStr+="<span class='";var c=a.split("-")[0];if(["dashicons","genericon","glyphicon"].indexOf(c)>=0){htmlStr+=c+" "}else{htmlStr+="wp-menu-image dashicons-before'><img src='"}htmlStr+=a+"'></span>"}htmlStr+=b;htmlStr+="<a href='javascript:;' class='remove-button'>Remove</a>";return htmlStr}function capitalized(a){return a.replace(/_/g," ").replace(/\w\S*/g,function(b){return b.charAt(0).toUpperCase()+b.substr(1).toLowerCase()})}(function(h){var g=jdtk_object.options;var p=jdtk_object.do_it;if(undefined!==g){if(p){var x=g.bar;if(undefined!==x){var n=x.hide;if(undefined!==n){if(undefined!==n.bar_admin){h("#wpadminbar").hide();h("html.wp-toolbar").css("padding-top","0px")}}}}if(h("body").hasClass("wp-admin")){if(p){var q=g.footer;if(undefined!==q){if(undefined!==q.hide_all){h("#wpfooter").css("display","none")}if(undefined!==q.hide_left){h("#footer-left").css("display","none")}if(undefined!==q.hide_right){h("#footer-upgrade").css("display","none")}if(undefined!==q.left_text&&""!=q.left_text){h("#footer-left").html(q.left_text)}if(undefined!==q.right_text&&""!=q.right_text){h("#footer-upgrade").html(q.right_text)}}}if(["edit.php","edit-comments.php","edit-tags.php","link-manager.php","upload.php","users.php"].indexOf(jdtk_object.pagenow)>-1){var y;if(h("body").hasClass("edit-php")){var B=h("body").attr("class");var D=B.indexOf("post-type-");var C=B.indexOf(" ",D);var E=B.substring(D+10,C);y=E+"_posts"}else{if(h("body").hasClass("edit-comments-php")){y="edit-comments"}else{if(h("body").hasClass("upload-php")){y="media"}else{if(h("body").hasClass("users-php")){y="users"}}}}if(undefined!==g.columns&&undefined!==g.columns[y]){var A=g.columns[y];for(var z in A){var t=A[z];var u="left";var s=t.width;var v=".wrap table th.column-"+z;h(v).css("text-align",u);h(v).css("width",s)}}}}if(h("body").hasClass("login")){var r=jdtk_object.login;var o=g.login;if(undefined!==r&&undefined!==o){for(var F in r){var m=r[F];if(undefined!==m.selector){var v=m.selector;var k;var t=o[F];if(undefined!==t){if(undefined!==m.property){k=m.property;if("background-image"===k){t="url("+t+")"}if(undefined!==m.property_value){t=m.property_value}}$css=h(v).css(k,t)}}}}v=".login h1 a";var c=jQuery("#login h1 a").css("background-image").match(/^url\("?(.+?)"?\)$/)[1];var l=h("#login").width();img=new Image();img.src=o.image;img.onload=function(){var a="auto";if(this.width>l){a="contain";h(v).css("background-position-y","bottom");h(v).css("height",this.height*l/this.width)}else{h(v).css("width","auto");h(v).css("height",this.height);h(v).css("line-height",this.height)}h(v).css("background-size",a)};if(undefined!==o.title){h("body.login > div#login > h1 > a").attr("title",o.title)}h("body.login").css("display","block")}}if(h("body").hasClass("wp-admin")){var e=h("form#jdtk-admin-mate-form");var j=h("#adminmenu");var f=h("li.menu-top",j);["genericon","glyphicon"].forEach(function(H,a,G){var b=h('img[src^="'+H+'-"]',f);b.each(function(K,I){var L=h(I).attr("src");var J=h(I).parent();J.replaceWith("<div class='wp-menu-image "+H+" "+L+"'><br></div>")})});h.fn.jdtk_dialog=function(a){this.each(function(){var b=h.extend({resizable:false,width:(typeof(w=h(this).attr("width"))!==typeof undefined&&w!==false)?w:400,height:"auto",buttons:{}},a);h(this).dialog({dialogClass:b.dialogClass,autoOpen:false,resizable:b.resizable,modal:true,width:b.width,height:b.height,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:500},buttons:b.buttons})});return this};h.fn.jdtk_confirm_button=function(){h(this).click(function(a){d=h("#"+h(this).attr("dialog"));if(typeof d==="undefined"||d.length<1){return}if(h.isEmptyObject(d.dialog("option","buttons"))){d.dialog({buttons:[{text:"Reset",type:"submit",name:h(this).attr("name"),form:"jdtk-admin-mate-form",click:function(){h(this).dialog("close")}},{text:"Cancel",click:function(){h(this).dialog("close")}}]})}d.dialog("open");a.stopPropagation()});return this};h.fn.jdtk_confirm_remove_column=(function(){var a;h(function(){h("#confirm-remove-column").jdtk_dialog({buttons:{Remove:function(){h(a).parents(".group").remove();h(this).dialog("close")},Cancel:function(){h(this).dialog("close")}}})});return function(b){h(this).click(function(G){a=this;h("#confirm-remove-column").dialog("open");G.stopPropagation()});return this}})();h.fn.jdtk_resize_column=(function(){var a;h(function(){var b=h(".jdtk-column-width-dialog");b.jdtk_dialog({dialogClass:"jdtk-column-width-dialog-content",resizable:true,width:h("#wpbody").css("width"),buttons:{"Set Column Widths":function(){var H=h(a).closest(".ui-tabs-panel").find(".group:not(.jdtk-hidden)");var Q=H.find("li.width-unit input:checked");var S=H.find("li.column-width");var M=S.find("label.width");var N=S.find("input");var L=S.siblings("input.width-percentage");var O=S.siblings("input.width-pixel");var G=h(this).find("th");var R=0;var K=[];for(i=0;i<G.length;i++){var J=parseInt(h(G[i]).css("width"));var I=J+"px";h(O[i]).val(I);if("pixel"===Q[i].value){h(M[i]).html(I);h(N[i]).val(I)}R+=(K[i]=J)}for(i=0;i<G.length;i++){K[i]*=100/R}for(i=0;i<G.length;i++){var P=K[i].toPrecision(3)+"%";h(L[i]).val(P);if("percentage"===Q[i].value){h(M[i]).html(P);h(N[i]).val(P)}}h(this).dialog("close")},Cancel:function(){h(this).dialog("close")}}})});return function(b){h(this).click(function(I){a=this;var K=h("#"+h(this).attr("dialog")).dialog("open");var H=h("table.jdtk-col-resizeable",K);if(H.prev().hasClass("JCLRgrips")){H.prev().remove();H.removeClass("JColResizer");H.removeAttr("id")}var G=h(this).closest(".ui-tabs-panel").find(".group:not(.jdtk-hidden)");var J="<tr>";G.each(function(){var N=h(this).find(".ui-accordion-header");var M=h(N).html();var L=h(this).find("li.column-width input").val();J+="<th style='width: "+L+";'>"+M.substring(M.indexOf("</span>")+7,M.indexOf("<a"))+"</th>"});J+="</tr>";H.html(J);H.colResizable({liveDrag:true,partialRefresh:true})});return this}})();h.fn.jdtk_change_width_unit=function(){this.change(function(){var I=h(this).closest(".ui-accordion-content");var H=I.find("label.column-width");var b=h(H).siblings("input");var a=I.find("input.width-percentage").val();var G=I.find("input.width-pixel").val();switch(this.value){case"percentage":H.html(a);b.val(a);break;case"pixel":H.html(G);b.val(G);break}})};h.fn.jdtk_column_width_effect=function(){this.click(function(){h(this).effect("transfer",{to:h("a.resize-column-button",h(this).closest(".ui-tabs-panel"))},1000)})};h.fn.jdtk_icon_picker=(function(){var b;var a;var G=36;h(function(){h("#iconpicker").jdtk_dialog({width:332,height:400});var H=function(J){h("#iconpicker").dialog("close");h(b).removeClass();h(b).addClass("jdtkicon");var K;if(undefined===a){K=h(this).attr("title");h(h(b).children("img")[0]).remove();if("dashicons-empty"!==K){h(b).addClass(K.split("-")[0]+" "+K);h(".jdtkicon").attr("title","Click here to change the icon.")}else{empty_icon_url=h("#empty_icon_url").val();h(b).append("<img src="+empty_icon_url+">");h(".jdtkicon").attr("title","Click here to add an icon.")}}else{K=a;h(b).addClass("wp-menu-image dashicons-before");h(b).html("<img src='"+a+"'>")}h(h(b).siblings("input")[0]).val(K);var M=h(b).closest(".group").find(".ui-accordion-header");if(M.length>0){var L=h(b).closest(".ui-accordion-content").find(".label input").val();var I;I=get_header_string(K,L);M.html(I)}};h(".jdtk-icon-item.icon").click(event,H);h(".jdtk-icon-item.media").click(event,function(){var I=wp.media({title:"Please Choose an Icon (the max dimensions are "+G+" x "+G+" pixels)",library:{type:"image"},multiple:false,button:{text:"Use This Icon"}});I.on("select",function(){var J=I.state().get("selection").first().toJSON();if(J.width>G||J.height>G){h("#icon-too-big").dialog("open")}else{a=J.url;H()}});I.open()})});return function(H){h(this).click(function(){b=this;a=undefined;if(h(".jdtk_hidden_icon span.glyphicon").width()<4){h(".jdtk-icon-glyphicon").css("display","none")}if(h(".jdtk_hidden_icon span.genericon").width()<4){h(".jdtk-icon-genericon").css("display","none")}h("#iconpicker").dialog("open")});return this}})();h.fn.jdtk_field_picker=(function(){var a;h(function(){h("#field-picker").jdtk_dialog({width:332,height:400});h("#field-decision option").click(function(){var M=h(this).val();var N=h(this).html();var b=h(a).closest(".ui-tabs-panel");var I=h(".jdtk-hidden",b);var K=I.clone();var L=N;if("cb"===M){h(K).find("li.label").remove();h(K).find("li.column-icon").remove();L='<input type="checkbox">'}var H=h(".jdtk-accordion",b);var J=h("input, select",K);h(K).removeClass("jdtk-hidden");h(K).css("display","block");h("h3",K).html(get_header_string("dashicons-empty",capitalized(L)));h("label.type",K).html(N);h("input.label",K).val(N);J.each(function(){h(this).attr("name",h(this).attr("eman").replace("jdtk-hidden",M)).removeAttr("eman")});h(J[0]).attr("value",M);h(J[1]).attr("value",N);h(".jdtkicon",K).jdtk_icon_picker();h("a.remove-button",K).jdtk_confirm_remove_column();h('input[type="checkbox"]',K).jdtk_checkbox();h("input.column-label",K).jdtk_update_header();h(".width-unit input",K).jdtk_change_width_unit();h("label.column-width",K).jdtk_column_width_effect();if(0===M.indexOf("jdtk_cf_")){var G=h(".display-as select",K);h(h("option",G)[0]).attr("selected","");G.jdtk_display_as_change()}else{h(".display-as",K).remove();h(".preview-size",K).remove()}H.append(K);H.accordion("refresh");H.accordion("option","active",H.children().size()-1);h("#field-picker").dialog("close")})});return function(b){h(this).click(function(){a=this;h("#field-picker").dialog("open")});return this}})();h.fn.jdtk_checkbox=function(){h(this).click(function(H){var b=h(this).prop("checked");var a=h(this).parent();a.find('input[type="checkbox"]').prop({indeterminate:false,checked:b});G(a);function G(L){var K=L.parent().parent();var J=true;var I='input[type="checkbox"]';var M="checked";L.siblings().each(function(){return J=(h(this).children(I).prop(M)===b)});if(J&&b){K.children(I).prop({indeterminate:false,checked:b});G(K)}else{if(J&&!b){K.children(I).prop(M,b);K.children(I).prop("indeterminate",(K.find(I+":"+M).length>0));G(K)}else{L.parents("li").children(I).prop({indeterminate:true,checked:false})}}}})};h.fn.jdtk_update_header=function(){this.keyup(function(){h(this).closest(".group").find(".ui-accordion-header").html(get_header_string(h(this).closest(".ui-accordion-content").find(".column-icon input").val(),h(this).val()))})};h.fn.jdtk_display_as_change=function(){h(this).change(function(){var a=h("option:selected",this).val();var b=h(this).closest(".display-as").next(".preview-size");if("image"==a){b.fadeIn(200)}else{b.fadeOut(200)}})};h.fn.jdtk_pointer=function(){function a(G,b){if(G){if(b.is(":visible")){b.pointer("widget").show()}else{b.pointer("widget").hide()}}}this.each(function(){var I=h(this);var H=true;var b=I.attr("pointer-box");if(h.inArray(b,jdtk_object.dismissed_pointers)>=0){return}var G=h("#"+b);G.css("display","none");I.pointer({pointerClass:G.attr("box-class"),pointerWidth:G.attr("box-width"),content:G.html(),position:{edge:G.attr("box-edge"),align:G.attr("box-align")},close:function(){H=false;I.pointer("destroy");h.post(jdtk_object.ajax_url,{pointer:b,action:"dismiss-wp-pointer"})}}).pointer("open");a(H,I);if((tab=I.closest(".tab-container")).length>0){tab.on("tabsactivate",function(J,K){a(H,I)})}});return this};h.fn.jdtk_hover=function(b,a){h(this).each(function(I,H){var G=h(this).css(b);h(this).hover(function(J){jQuery(this).css(b,a)},function(J){jQuery(this).css(b,G)})})}}}(jQuery));jQuery(function(f){if(f("body").hasClass("wp-admin")){var e=f("form#jdtk-admin-mate-form");f("a.button-confirm",e).jdtk_confirm_button();f("#sortable",e).sortable();f("#sortable",e).disableSelection();f(".jdtkicon",e).jdtk_icon_picker();f(".jdtk-dialog",e).jdtk_dialog();f("a.remove-button",e).jdtk_confirm_remove_column();f("a.add-column-button",e).jdtk_field_picker();f(".resize-column-button",e).jdtk_resize_column();f(".tab-container",e).tabs();var g=true;var b=f(".tab-container.main-tab > ul");var a=b.children("li");a.detach();jdtk_object.order_tabs.forEach(function(k){for(var h=0;h<a.length;h++){if(f(a[h]).hasClass(k)){b.append(a[h]);if(g){g=false;f(".tab-container.main-tab").tabs("option","active",h)}}}});f("input.column-label",e).jdtk_update_header();f("label.column-width",e).jdtk_column_width_effect();f(".jdtk-accordion",e).accordion({active:false,collapsible:true,header:"> div > h3",heightStyle:"content",icons:{header:"ui-icon-triangle-1-e",activeHeader:"ui-icon-triangle-1-s"}}).sortable({axis:"y",handle:"h3",stop:function(h,j){j.item.children("h3").triggerHandler("focusout");f(this).accordion("refresh")}});f('input[type="checkbox"]',e).jdtk_checkbox();f("#admin-bar .wrapper > ul > li > input",e).each(function(){c(this)});function c(m){var j='input[type="checkbox"]';var o="checked";var h=f(m).prop(o);var n=h;var l=f(m).parent().children("ul").children().children(j);for(var k=0;k<l.length;++k){child=f(l[k]);n|=child.prop(o);n|=c(child)}if(!h&&n){f(m).prop({indeterminate:true,checked:false})}return n}f(".display-as option:selected[value='image']",e).closest(".display-as").next(".preview-size").show();f(".display-as select",e).jdtk_display_as_change();f(".jdtk-color-field",e).wpColorPicker({change:function(j,l){if("none"===f(this).closest(".wp-picker-container").find(".iris-picker").css("display")){return}var k=f(this).attr("data-property");if(undefined===k||""===k){k="background-color"}var m=f(this).attr("data-selector");var n=l.color._color;var h="rgba("+(n>>16)+","+(n>>8&255)+","+(n&255)+","+l.color._alpha+")";f(m).css(k,h);m.split(",").forEach(function(q,p,s){var r=q.indexOf(":hover");if(r>-1){var o=q.substring(0,r);f(o).jdtk_hover(k,h)}r=q.indexOf(":focus");if(r>-1){var o=q.substring(0,r);f(o).focus(function(){f(this).css(k,h)});f(o).blur(function(){f(this).css(k,"")})}})}});f("#styling #background input:radio, #styling #background select",e).change(function(){var j=f(this).val();var h=f(this).attr("name");var k=h.substring(h.lastIndexOf("[")+1,h.lastIndexOf("]")).replace(/_/g,"-");f("body > #wpwrap").css(k,j)});f(".width-unit input",e).jdtk_change_width_unit();f(".jdtk-pointer").jdtk_pointer();f(".media-button").on("click",function(k){var h=f(this).attr("target");var j=wp.media({title:"Insert Image",library:{type:"image"},multiple:false,button:{text:"Insert"}});j.on("select",function(){var l=j.state().get("selection").first().toJSON();f(h).val(l.url);switch(h){case"#style_background_background_image":f("body > #wpwrap").css("background-image","url("+l.url+")");break}});j.open()});f.getScript(jdtk_object.url+"js/jdtk-wpampro.js",function(){if("function"==typeof jdtk_wpampro){jdtk_wpampro(f)}});e.css("visibility","visible");if("function"==typeof jdtk_debug){jdtk_debug(f)}else{f.getScript(jdtk_object.url+"js/jdtk-debug.js",function(){if("function"==typeof jdtk_debug){jdtk_debug(f)}})}}});