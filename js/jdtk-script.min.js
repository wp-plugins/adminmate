function isUrl(b){var a=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");if(!a.test(b)){return false}else{return true}}function get_header_string(a,b){htmlStr="<span class='ui-accordion-header-icon ui-icon ui-icon-triangle-1-e'></span>";if("dashicons-empty"!==a){htmlStr+="<span class='";var c=a.split("-")[0];if(["dashicons","genericon","glyphicon"].indexOf(c)>=0){htmlStr+=c+" "}else{htmlStr+="wp-menu-image dashicons-before'><img src='"}htmlStr+=a+"'></span>"}htmlStr+=b;htmlStr+="<a href='javascript:;' class='remove-button'>Remove</a>";return htmlStr}function capitalized(a){return a.replace(/_/g," ").replace(/\w\S*/g,function(b){return b.charAt(0).toUpperCase()+b.substr(1).toLowerCase()})}(function(j){var h=jdtk_object.options;var r=jdtk_object.do_it;if(undefined!==h){if(r){var z=h.bar;if(undefined!==z){var p=z.hide;if(undefined!==p){if(undefined!==p.bar_admin){j("#wpadminbar").hide();j("html.wp-toolbar").css("padding-top","0px")}}}}if(j("body").hasClass("wp-admin")){if(r){var s=h.footer;if(undefined!==s){if(undefined!==s.hide_all){j("#wpfooter").css("display","none")}if(undefined!==s.hide_left){j("#footer-left").css("display","none")}if(undefined!==s.hide_right){j("#footer-upgrade").css("display","none")}if(undefined!==s.left_text&&""!=s.left_text){j("#footer-left").html(s.left_text)}if(undefined!==s.right_text&&""!=s.right_text){j("#footer-upgrade").html(s.right_text)}}}if(["edit.php","edit-comments.php","edit-tags.php","link-manager.php","upload.php","users.php"].indexOf(jdtk_object.pagenow)>-1){var A;if(j("body").hasClass("edit-php")){var D=j("body").attr("class");var F=D.indexOf("post-type-");var E=D.indexOf(" ",F);var G=D.substring(F+10,E);A=G+"_posts"}else{if(j("body").hasClass("edit-comments-php")){A="edit-comments"}else{if(j("body").hasClass("upload-php")){A="media"}else{if(j("body").hasClass("users-php")){A="users"}}}}if(undefined!==h.columns&&undefined!==h.columns[A]){var C=h.columns[A];for(var B in C){var v=C[B];var x="left";var u=v.width;var y=".wrap table th.column-"+B;j(y).css("text-align",x);j(y).css("width",u)}}}}if(j("body").hasClass("login")){var t=jdtk_object.login;var q=h.login;if(undefined===q){j("body.login").css("display","block");return}if(undefined!==t&&undefined!==q){for(var H in t){var o=t[H];if(undefined!==o.selector){var y=o.selector;var l;var v=q[H];if(undefined!==v){if(undefined!==o.property){l=o.property;if("background-image"===l&&v&&""!==v){v="url("+v+")"}if(undefined!==o.property_value){v=o.property_value}}$css=j(y).css(l,v)}}}}y=".login h1 a";var n=j("#login h1 a").css("background-image");if("none"!==n){var g=j("#login h1 a").css("background-image").match(/^url\("?(.+?)"?\)$/);if(null!==g){var c=g[1]}var m=j("#login").width();img=new Image();img.src=q.image;img.onload=function(){var a="auto";if(this.width>m){a="contain";j(y).css("background-position-y","bottom");j(y).css("height",this.height*m/this.width)}else{j(y).css("width","auto");j(y).css("height",this.height);j(y).css("line-height",this.height)}j(y).css("background-size",a)}}if(undefined!==q.title){j("body.login > div#login > h1 > a").attr("title",q.title)}j("body.login").css("display","block")}}if(j("body").hasClass("wp-admin")){var e=j("form#jdtk-admin-mate-form");var k=j("#adminmenu");var f=j("li.menu-top",k);["genericon","glyphicon"].forEach(function(J,a,I){var b=j('img[src^="'+J+'-"]',f);b.each(function(M,K){var N=j(K).attr("src");var L=j(K).parent();L.replaceWith("<div class='wp-menu-image "+J+" "+N+"'><br></div>")})});j.fn.jdtk_dialog=function(a){this.each(function(){var b=j.extend({resizable:false,width:(typeof(w=j(this).attr("width"))!==typeof undefined&&w!==false)?w:400,height:"auto",buttons:{}},a);j(this).dialog({dialogClass:b.dialogClass,autoOpen:false,resizable:b.resizable,modal:true,width:b.width,height:b.height,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:500},buttons:b.buttons})});return this};j.fn.jdtk_confirm_button=function(){j(this).click(function(a){d=j("#"+j(this).attr("dialog"));if(typeof d==="undefined"||d.length<1){return}if(j.isEmptyObject(d.dialog("option","buttons"))){d.dialog({buttons:[{text:"Reset",type:"submit",name:j(this).attr("name"),form:"jdtk-admin-mate-form",click:function(){j(this).dialog("close")}},{text:"Cancel",click:function(){j(this).dialog("close")}}]})}d.dialog("open");a.stopPropagation()});return this};j.fn.jdtk_confirm_remove_column=(function(){var a;j(function(){j("#confirm-remove-column").jdtk_dialog({buttons:{Remove:function(){j(a).parents(".group").remove();j(this).dialog("close")},Cancel:function(){j(this).dialog("close")}}})});return function(b){j(this).click(function(I){a=this;j("#confirm-remove-column").dialog("open");I.stopPropagation()});return this}})();j.fn.jdtk_resize_column=(function(){var a;j(function(){var b=j(".jdtk-column-width-dialog");b.jdtk_dialog({dialogClass:"jdtk-column-width-dialog-content",resizable:true,width:j("#wpbody").css("width"),buttons:{"Set Column Widths":function(){var J=j(a).closest(".ui-tabs-panel").find(".group:not(.jdtk-hidden)");var S=J.find("li.width-unit input:checked");var U=J.find("li.column-width");var O=U.find("label.width");var P=U.find("input");var N=U.siblings("input.width-percentage");var Q=U.siblings("input.width-pixel");var I=j(this).find("th");var T=0;var M=[];for(i=0;i<I.length;i++){var L=parseInt(j(I[i]).css("width"));var K=L+"px";j(Q[i]).val(K);if("pixel"===S[i].value){j(O[i]).html(K);j(P[i]).val(K)}T+=(M[i]=L)}for(i=0;i<I.length;i++){M[i]*=100/T}for(i=0;i<I.length;i++){var R=M[i].toPrecision(3)+"%";j(N[i]).val(R);if("percentage"===S[i].value){j(O[i]).html(R);j(P[i]).val(R)}}j(this).dialog("close")},Cancel:function(){j(this).dialog("close")}}})});return function(b){j(this).click(function(K){a=this;var M=j("#"+j(this).attr("dialog")).dialog("open");var J=j("table.jdtk-col-resizeable",M);if(J.prev().hasClass("JCLRgrips")){J.prev().remove();J.removeClass("JColResizer");J.removeAttr("id")}var I=j(this).closest(".ui-tabs-panel").find(".group:not(.jdtk-hidden)");var L="<tr>";I.each(function(){var P=j(this).find(".ui-accordion-header");var O=j(P).html();var N=j(this).find("li.column-width input").val();L+="<th style='width: "+N+";'>"+O.substring(O.indexOf("</span>")+7,O.indexOf("<a"))+"</th>"});L+="</tr>";J.html(L);J.colResizable({liveDrag:true,partialRefresh:true})});return this}})();j.fn.jdtk_change_width_unit=function(){this.change(function(){var K=j(this).closest(".ui-accordion-content");var J=K.find("label.column-width");var b=j(J).siblings("input");var a=K.find("input.width-percentage").val();var I=K.find("input.width-pixel").val();switch(this.value){case"percentage":J.html(a);b.val(a);break;case"pixel":J.html(I);b.val(I);break}})};j.fn.jdtk_column_width_effect=function(){this.click(function(){j(this).effect("transfer",{to:j("a.resize-column-button",j(this).closest(".ui-tabs-panel"))},1000)})};j.fn.jdtk_icon_picker=(function(){var b;var a;var I=36;j(function(){j("#iconpicker").jdtk_dialog({width:332,height:400});var J=function(N){j("#iconpicker").dialog("close");j(b).removeClass();j(b).addClass("jdtkicon");var P;var L=j(b).attr("meta-original");if(j(this).parent().hasClass("initial")){var O=/^https?:\/\//i;if(O.test(L)){a=L}}if(undefined===a){var M=j("span",this)[0];P=M.classList[1];j(j(b).children("img")[0]).remove();if("dashicons-empty"!==P){j(b).addClass(P.split("-")[0]+" "+P);j(".jdtkicon").attr("title","Click here to change the icon.")}else{empty_icon_url=j("#empty_icon_url").val();j(b).append("<img src="+empty_icon_url+">");j(".jdtkicon").attr("title","Click here to add an icon.")}}else{P=a;j(b).addClass("wp-menu-image dashicons-before");j(b).html("<img src='"+a+"'>")}j(j(b).siblings("input")[0]).val(P);var R=j(b).closest(".group").find(".ui-accordion-header");if(R.length>0){var Q=j(b).closest(".ui-accordion-content").find(".label input").val();var K;K=get_header_string(P,Q);R.html(K)}};j(".jdtk-icon-item.icon").click(event,J);j(".jdtk-icon-item.media").click(event,function(){var K=wp.media({title:"Please Choose an Icon (the max dimensions are "+I+" x "+I+" pixels)",library:{type:"image"},multiple:false,button:{text:"Use This Icon"}});K.on("select",function(){var L=K.state().get("selection").first().toJSON();if(L.width>I||L.height>I){j("#icon-too-big").dialog("open")}else{a=L.url;J()}});K.open()})});return function(J){j(this).click(function(){b=this;var P="block";var M=j(this).attr("meta-original");if(M===undefined||M==="dashicons-empty"){P="none"}else{var N=j("#iconpicker .initial span");N.removeClass();N.empty();var L=j("#iconpicker .initial li");var K="white";var O=/^https?:\/\//i;if(O.test(M)){N.addClass("wp-menu-image dashicons-before");N.html("<img src='"+M+"'>");K="initial"}else{N.addClass("dashicons "+M)}L.css("background-color",K);L.attr("title",M)}j("#iconpicker .initial").css("display",P);a=undefined;if(j(".jdtk_hidden_icon span.glyphicon").width()<4){j(".jdtk-icon-glyphicon").css("display","none")}if(j(".jdtk_hidden_icon span.genericon").width()<4){j(".jdtk-icon-genericon").css("display","none")}j("#iconpicker").dialog("open")});return this}})();j.fn.jdtk_field_picker=(function(){var a;j(function(){j("#field-picker").jdtk_dialog({width:332,height:400});j("#field-decision option").click(function(){var O=j(this).val();var P=j(this).html();var b=j(a).closest(".ui-tabs-panel");var K=j(".jdtk-hidden",b);var M=K.clone();var N=P;if("cb"===O){j(M).find("li.label").remove();j(M).find("li.column-icon").remove();N='<input type="checkbox">'}var J=j(".jdtk-accordion",b);var L=j("input, select",M);j(M).removeClass("jdtk-hidden");j(M).css("display","block");j("h3",M).html(get_header_string("dashicons-empty",capitalized(N)));j("label.type",M).html(P);j("input.label",M).val(P);L.each(function(){j(this).attr("name",j(this).attr("eman").replace("jdtk-hidden",O)).removeAttr("eman")});j(L[0]).attr("value",O);j(L[1]).attr("value",P);j(".jdtkicon",M).jdtk_icon_picker();j("a.remove-button",M).jdtk_confirm_remove_column();j('input[type="checkbox"]',M).jdtk_checkbox();j("input.column-label",M).jdtk_update_header();j(".width-unit input",M).jdtk_change_width_unit();j("label.column-width",M).jdtk_column_width_effect();if(0===O.indexOf("jdtk_cf_")){var I=j(".display-as select",M);j(j("option",I)[0]).attr("selected","");I.jdtk_display_as_change()}else{j(".display-as",M).remove();j(".preview-size",M).remove()}J.append(M);J.accordion("refresh");J.accordion("option","active",J.children().size()-1);j("#field-picker").dialog("close")})});return function(b){j(this).click(function(){a=this;j("#field-picker").dialog("open")});return this}})();j.fn.jdtk_checkbox=function(){j(this).click(function(J){var b=j(this).prop("checked");var a=j(this).parent();a.find('input[type="checkbox"]').prop({indeterminate:false,checked:b});I(a);function I(N){var M=N.parent().parent();var L=true;var K='input[type="checkbox"]';var O="checked";N.siblings().each(function(){return L=(j(this).children(K).prop(O)===b)});if(L&&b){M.children(K).prop({indeterminate:false,checked:b});I(M)}else{if(L&&!b){M.children(K).prop(O,b);M.children(K).prop("indeterminate",(M.find(K+":"+O).length>0));I(M)}else{N.parents("li").children(K).prop({indeterminate:true,checked:false})}}}})};j.fn.jdtk_update_header=function(){this.keyup(function(){j(this).closest(".group").find(".ui-accordion-header").html(get_header_string(j(this).closest(".ui-accordion-content").find(".column-icon input").val(),j(this).val()))})};j.fn.jdtk_display_as_change=function(){j(this).change(function(){var a=j("option:selected",this).val();var b=j(this).closest(".display-as").next(".preview-size");if("image"==a){b.fadeIn(200)}else{b.fadeOut(200)}})};j.fn.jdtk_pointer=function(){function a(I,b){if(I){if(b.is(":visible")){b.pointer("widget").show()}else{b.pointer("widget").hide()}}}this.each(function(){var K=j(this);var J=true;var b=K.attr("pointer-box");if(j.inArray(b,jdtk_object.dismissed_pointers)>=0){return}var I=j("#"+b);I.css("display","none");K.pointer({pointerClass:I.attr("box-class"),pointerWidth:I.attr("box-width"),content:I.html(),position:{edge:I.attr("box-edge"),align:I.attr("box-align")},close:function(){J=false;K.pointer("destroy");j.post(jdtk_object.ajax_url,{pointer:b,action:"dismiss-wp-pointer"})}}).pointer("open");a(J,K);if((tab=K.closest(".tab-container")).length>0){tab.on("tabsactivate",function(L,M){a(J,K)})}});return this};j.fn.jdtk_hover=function(b,a){j(this).each(function(K,J){var I=j(this).css(b);j(this).hover(function(L){j(this).css(b,a)},function(L){j(this).css(b,I)})})}}}(jQuery));jQuery(function(f){if(f("body").hasClass("wp-admin")){var e=f("form#jdtk-admin-mate-form");f("a.button-confirm",e).jdtk_confirm_button();f("#sortable",e).sortable();f("#sortable",e).disableSelection();f(".jdtkicon",e).jdtk_icon_picker();f(".jdtk-dialog",e).jdtk_dialog();f("a.remove-button",e).jdtk_confirm_remove_column();f("a.add-column-button",e).jdtk_field_picker();f(".resize-column-button",e).jdtk_resize_column();f(".tab-container",e).tabs();var g=true;var b=f(".tab-container.main-tab > ul");var a=b.children("li");a.detach();jdtk_object.order_tabs.forEach(function(k){for(var h=0;h<a.length;h++){if(f(a[h]).hasClass(k)){b.append(a[h]);if(g){g=false;f(".tab-container.main-tab").tabs("option","active",h)}}}});f("input.column-label",e).jdtk_update_header();f("label.column-width",e).jdtk_column_width_effect();f(".jdtk-accordion",e).accordion({active:false,collapsible:true,header:"> div > h3",heightStyle:"content",icons:{header:"ui-icon-triangle-1-e",activeHeader:"ui-icon-triangle-1-s"}}).sortable({axis:"y",handle:"h3",stop:function(h,j){j.item.children("h3").triggerHandler("focusout");f(this).accordion("refresh")}});f('input[type="checkbox"]',e).jdtk_checkbox();f("#admin-bar .wrapper > ul > li > input",e).each(function(){c(this)});function c(m){var j='input[type="checkbox"]';var o="checked";var h=f(m).prop(o);var n=h;var l=f(m).parent().children("ul").children().children(j);for(var k=0;k<l.length;++k){child=f(l[k]);n|=child.prop(o);n|=c(child)}if(!h&&n){f(m).prop({indeterminate:true,checked:false})}return n}f(".display-as option:selected[value='image']",e).closest(".display-as").next(".preview-size").show();f(".display-as select",e).jdtk_display_as_change();f(".jdtk-color-field",e).wpColorPicker({change:function(j,l){if("none"===f(this).closest(".wp-picker-container").find(".iris-picker").css("display")){return}var k=f(this).attr("data-property");if(undefined===k||""===k){k="background-color"}var m=f(this).attr("data-selector");var n=l.color._color;var h="rgba("+(n>>16)+","+(n>>8&255)+","+(n&255)+","+l.color._alpha+")";f(m).css(k,h);m.split(",").forEach(function(q,p,s){var r=q.indexOf(":hover");if(r>-1){var o=q.substring(0,r);f(o).jdtk_hover(k,h)}r=q.indexOf(":focus");if(r>-1){var o=q.substring(0,r);f(o).focus(function(){f(this).css(k,h)});f(o).blur(function(){f(this).css(k,"")})}})}});f("#styling #background input:radio, #styling #background select",e).change(function(){var j=f(this).val();var h=f(this).attr("name");var k=h.substring(h.lastIndexOf("[")+1,h.lastIndexOf("]")).replace(/_/g,"-");f("body > #wpwrap").css(k,j)});f(".width-unit input",e).jdtk_change_width_unit();f(".jdtk-pointer").jdtk_pointer();f(".media-button").on("click",function(k){var h=f(this).attr("target");var j=wp.media({title:"Insert Image",library:{type:"image"},multiple:false,button:{text:"Insert"}});j.on("select",function(){var l=j.state().get("selection").first().toJSON();f(h).val(l.url);switch(h){case"#style_background_background_image":f("body > #wpwrap").css("background-image","url("+l.url+")");break}});j.open()});f.getScript(jdtk_object.url+"js/jdtk-wpampro.js",function(){if("function"==typeof jdtk_wpampro){jdtk_wpampro(f)}});e.css("visibility","visible");if("function"==typeof jdtk_debug){jdtk_debug(f)}else{f.getScript(jdtk_object.url+"js/jdtk-debug.js",function(){if("function"==typeof jdtk_debug){jdtk_debug(f)}})}}});